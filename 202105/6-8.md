#### 2021.05.08
---
> 页面循环系统
<img src="./images/circle-princeble.png" width="100%" height="100%">

> 反转链表
```
    var reverseList = function(head) {
        let prev = null, cur = head;
        while(cur) {
            let next = cur.next;
            cur.next = prev;
            prev = cur;
            cur = next;
        }
        return prev;
    };
```
> 两两交换链表中的节点
```
    var swapPairs = function (head) {
        let self = new ListNode(0)
        self.next = head
        let prev = self
        while(prev.next && prev.next.next) {
            let [fst, snd] = [prev.next, prev.next.next];
            [prev.next, fst.next, snd.next] = [snd, snd.next, fst];
            prev = prev.next.next;
        }
        return self.next
    }
```
> 链表是否有环
思路一： 判断是否有null,可以设置个时间，如果500ms内还没有碰到null，则说明是无环的
思路二： 遍历链表，把每个节点存放在set结构中，如果有节点和set中的节点相等
思路三： 快慢指针，如果2个指针不相遇，就没有环
```
    // 思路1
    var hasCycle = function(head) {
        let prev = Date.now()
        let result
        while(head) {
            let now = Date.now()
            if (head === null) {
                result = false
                break
            } else {
                head = head.next
            }
            if (now - prev >= 500) {
                result = true
                break
            }
        }
        return result ? true : false
    };
    // 思路2
    var hasCycle = function(head) {
        let res = new Map()
        while(head) {
            if (res.has(head)) {
                return true
            }
            res.set(head)
            head = head.next
        }
        return false
    };
    // 思路3
    var hasCycle = function(head) {
        let slow = fast = head
        while(slow && fast && fast.next) {
            slow = slow.next
            fast = fast.next.next
            if (slow === fast) return true
        }
        return false
    };
```
> 环形链表 II(输出出现环的节点)
```
    var detectCycle = function(head) {
        let res = new Map()
        while(head) {
            if (res.has(head)) {
                return head
            } 
            res.set(head)
            head = head.next
            
        }
        return null
    };
```


> webpack回顾
---
1. 配置文件名称: 默认配置文件：webpack.config.js,可通过webpack --config指定配置文件
2. webpack配置组成：entry、output、mode、
```
    module.exports = {
        entry: './src/index.js', ........ 1.打包的入口文件
        output: './dist/main.js', ........ 2.打包的输出
        mode: 'production',........ 3.环境
        module: {
            rules: [{........ 4.loader配置
                test: /\.txt$/,
                use: 'raw-loader'
            }]
        },
        plugins: [........ 5.插件配置
            new HtmlwebpackPlugin({
                template: './src/index.html'
            })
        ]
    }
```
3. 环境搭建:安装 webpack 和 webpack-cli
(1) 创建空 录和 package.json
* mkdir my-project
* cd my-project
* npm init -y
(2) 安装 webpack 和 webpack-cli
* npm install webpack webpack-cli --save-dev
* 检查是否安装成功:./node_modules/.bin/webpack -v
(3) 打包测试： 创建src目录，创建index.js和helloworld.js，之后用./node_modules/.bin/webpack进行打包，会根据webpack.config.js中的配置生成一个bundle.js文件，再新建一个html文件，引入这个js，就可以在浏览器中打开了
(4) 每次打包这个命令略长，可以在package.json中的scripts里增加一个命令`"build": "webpack"`,接下来就可以使用`npm run build`

> webpack基础用法
1. entry
(1). 用来指定webpack打包的入口,根据入口文件找到相关的依赖
(2). 用法
    a. 单页应用：
    ```
        module.exports = {
            entry: './src/index.js'
        }
    ```
    b. 多入口： entry是一个对象
    ```
        module.exports = {
            entry: {
                app: './src/index.js',
                adminApp: './src/adminApp.js'
            }
        }
    ```
2. output
(1). 用来告诉webpack如何将编译后的文件输出到磁盘
(2). 用法
    a. 单页应用


